---

title: "[PL] Z cyklu każdy wie a mało kto używa - Wireshark tips #1"
date: '2015-08-10T23:36:00.001+02:00'
author: kaarol
tags:
- Wireshark
modified_time: '2016-01-16T14:16:06.954+01:00'
blogger_id: tag:blogger.com,1999:blog-1272990746006552071.post-4117204100504209239
---

<div style="text-align: justify;">Wireshark to dość potężne narzędzie niestety w wielu przypadkach użytkownicy często zapominają o kilku fajnych dodatkach:</div><div style="text-align: justify;"><b><br /></b></div><div style="text-align: justify;"><b>Podążaj&nbsp;za strumieniem a dojdziesz do celu.</b></div><div><div style="text-align: justify;">Wireshark ma możliwość wyłuskania konkretnych pakietów, które zostały przesłane w obrębie jednego połączenia. Tak więc zamiast aplikować N filtrów, można znaleźć jeden konkretny pakiet i z prawego menu wybrać<b> "Follow TCP Stream".</b> Regułą ta wybiera numer strumienia z wskazanego pakietu i aplikuje odpowiedni filtr:<b>&nbsp;"tcp.stream eq NUMER" (1). </b>Dodatkowo w nowym oknie zostanie otwarty zrzut danych przesłanych w danym strumieniu <b>(2)</b>. Za pomocą listy można wybrać, który <b>kierunek komunikacji nas interesuje (3).</b></div><div class="separator" style="clear: both; text-align: justify;"><a href="http://1.bp.blogspot.com/-oHN-s97qYqU/VckNqEWjqlI/AAAAAAAAAGk/AtuOuRAJhjM/s1600/wireshark_stream.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="318" src="http://1.bp.blogspot.com/-oHN-s97qYqU/VckNqEWjqlI/AAAAAAAAAGk/AtuOuRAJhjM/s640/wireshark_stream.png" width="640" /></a></div></div><div style="text-align: justify;"><b><br /></b></div><div style="text-align: justify;"><b>Rozwiązywanie PTR w celu łatwiejszej analizy</b></div><div style="text-align: justify;">Zamiast tracić czas na weryfikacje do kogo należy dany adres IP, można zmusić naszego rekina do automatycznego rozwiązywania nazw. Menu <b>(Edit-&lt; Preferences Shift+Ctrl+P),</b>&nbsp;z lewej kolumny wybrać <b>Name Resolution (1)</b> i zaznaczyć <b>Resolve network (IP addresses )(2)</b></div><div class="separator" style="clear: both; text-align: justify;"><a href="http://3.bp.blogspot.com/-3wC9494KKK8/VckPbtKbKvI/AAAAAAAAAGw/Q-56qRtDO5Q/s1600/name.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="212" src="http://3.bp.blogspot.com/-3wC9494KKK8/VckPbtKbKvI/AAAAAAAAAGw/Q-56qRtDO5Q/s640/name.png" width="640" /></a></div><div style="text-align: justify;"><br /></div><div style="text-align: justify;"><b>Kreator reguł do kilku rodzajów&nbsp;zapór&nbsp;ogniowych</b></div><div style="text-align: justify;">WireShark za pomocą generatora reguł potrafi nam wygenerować wpisy dla danego typu zapory(2) Jego użycie jest dość proste:) Zaznaczamy wybrany pakiet z menu górnego wybieramy <b>Tool (1) </b>a następnie<b> Firewall ACL Rules. </b>W nowym oknie możemy wybrać <b>rodzaj oprogramowania (2), rodzaj filtru (3) </b>- w tym przypadku adres i numer portu. Na koniec mamy opcję <b>Inbound, Deny (4), </b>&nbsp;które definiują nam typ ruchu i akcję.&nbsp;</div><div style="text-align: justify;"><b><br /></b></div><div class="separator" style="clear: both; text-align: justify;"><a href="http://3.bp.blogspot.com/-kYGMEg9a5KA/VckRCnhX-YI/AAAAAAAAAG8/ssAJXQP3PKw/s1600/acl.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="302" src="http://3.bp.blogspot.com/-kYGMEg9a5KA/VckRCnhX-YI/AAAAAAAAAG8/ssAJXQP3PKw/s640/acl.png" width="640" /></a></div><div style="text-align: justify;"><b><br /></b></div><div style="text-align: justify;"><b>Modyfikacja&nbsp;wyświetlanych&nbsp;kolumn</b></div><div style="text-align: justify;">Zamiast wyświetlać konkretny typ protokołu można skorzystać z numeru portu lub ewentualnie dodać nową kolumnę z numerem portu źródłowego/docelowego. Wszystkie te zmiany można ustawić za pomocą <b>Column Preferences</b>.&nbsp;</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;"><b>Kolorowanie/ markowanie złapanych pakietów</b></div><div style="text-align: justify;">WireShark daje nam możliwość dowolnego kolorowania otrzymanych pakietów. [<b>menu View-&gt; Coloring rules] </b>&nbsp;Przykłady pakietów, które możemy pokolorować:&nbsp;</div><div><ul><li style="text-align: justify;">Zwrotki http o określonych kodach [<b>http.response.code]</b></li><li style="text-align: justify;">Zapytania o rekord SPF [<b>dns.spf]</b></li><li style="text-align: justify;">Pakiety z konkretnym user_agentem [<b>http.user_agent</b>]</li></ul></div><div style="text-align: justify;">Tak naprawdę całe kolorowani opiera się na dobraniu odpowiedniego filtru co daje nam bardzo dużą dowolność w przypadku wyłapywania specyficznego typu ruchu.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Powyższe pięć wskazówek to tylko niektóre z opcji, które ułatwiają życie. W kolejnych wpisach postaram się dodać nowe porady, które mogą znacząco ułatwić pracę.&nbsp;</div>
